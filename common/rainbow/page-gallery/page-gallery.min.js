!function(t){var n={};function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(i,a,function(n){return t[n]}.bind(null,a));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=0)}([function(t,n,e){t.exports=e(2)},function(t,n,e){},function(t,n,e){"use strict";e.r(n);e(1);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};var a=function(){function t(){this.options={},this.$gridItem=$("#gallery-content .grid"),this.$spinners=$("#gallery-content .spinner-box"),this.$paginations=$("#gallery-content .pagination")}return t.prototype.masonry_plugin=function(){var t=this;this.options={itemSelector:".grid-item",percentPosition:!0,horizontalOrder:!0,transitionDuration:0},this.revealOption=window.ScrollReveal({reset:!1,origin:"bottom",scale:1,distance:"80px",easing:"ease",nav_mobile:!1,mobile:!0}),this.$gridEv=this.$gridItem.masonry(this.options),setTimeout((function(){t.$gridItem.find(".grid-item").map((function(n,e){t.revealOption.reveal(e,{delay:500*Math.random()})}))}),120)},t.prototype.ajax_masonry_reset=function(t){var n=this;window.innerWidth>1259&&this.$gridEv.masonry("destroy"),t.forEach((function(t){var e=$(t).get(0);n.$spinners.fadeOut(100),n.$gridEv.masonry(n.options).append($(e)).masonry("appended",$(e)),setTimeout((function(){n.revealOption.reveal(e,{delay:500*Math.random()}),n.$paginations.fadeIn()}),120)}))},t}(),o=window.location.href;o=o.indexOf("/page/")?o.split("/page/")[0]:o;var r=function(t){function n(){var n=t.call(this)||this;return n.ticking=!1,n.$listContent=$("#gallery-content"),n.$listInter=n.$listContent.find(".list-inter"),n.$spinner=n.$listContent.find(".spinner-box"),n.$pagination=n.$listContent.find(".pagination"),n.$lineSeeMore=n.$pagination.find("a.line-see-more"),n.init(),n}return function(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype.init=function(){this.masonry_plugin(),this.pc_create_pagination_init(),this.pc_switch_page_number_opera(),this.pc_switch_page_arrow_next(),this.mb_scroll_page_refresh()},n.prototype.ajax_get_data=function(t,n){var e=this;$.ajax({type:"post",url:ghAjax.ajaxurl,dataType:"json",data:{security:ghAjax.security,term_id:t,page:n,number:Number(this.$spinner.attr("ismobile"))>0?this.$spinner.data("page-size-mb"):this.$spinner.data("page-size"),action:"gh_list_ajax_callback",have_image:!0,have_download:!0,have_likes:!0}}).then((function(t){console.log(Number(e.$spinner.attr("ismobile")));var n=t.data;t.data.posts.length&&(e.posts_content_refresh(n.posts),e.ticking=!1),t.data.pagination.page_number&&e.pc_pagination_refresh(n.pagination)}))},n.prototype.posts_content_refresh=function(t){var n=[];t.forEach((function(t){var e=""!==t.height?t.height:1,i=""!==t.width?t.width:1,a='<div class="grid-item col-12 col-sm-6 col-lg-4 col-xl-3">\n                    <div class="img-item" data-id="'+t.ID+'">\n                      <a href="'+t.link+'" title="'+t.post_title+'"  style="padding-top:'+100*(e/i).toFixed(2)+'%;">\n                        <i class="icon-baseline"></i>\n                        <img class="lazy" data-src="'+t.image+'" alt="'+t.alt+'">\n                      </a>\n                      <div class="item-info">\n                        <button class="js-share-btn  btn-icon btn-float trigger-share-btn" data-url="'+t.link+'"><i class="icon-share"></i></button>\n                        <button class="js-fave-btn btn-icon btn-float"><i class="icon-favorite"></i><span>'+t.likes+"</span></button>\n                      </div>\n                    </div>\n                  </div>";n.push(a)})),this.ajax_masonry_reset(n),setTimeout((function(){window.LazyLoad.update()}),120)},n.prototype.get_info=function(){var t={};return t.pageTotal=parseInt(this.$spinner.attr("data-page-total")),t.pageNumber=parseInt(this.$spinner.attr("data-page-number")),t.pageSize=parseInt(this.$spinner.attr("data-page-size")),t.termId=parseInt(this.$listInter.attr("data-term-id")),t},n.prototype.window_history_push_state=function(t){window.history.replaceState({index:t},"",o+"/page/"+t)},n.prototype.pc_create_pagination_init=function(){var t=this;this.get_info().pageTotal<2||(this.pc_pagination_js_pages(this.get_info().pageTotal,this.get_info().pageNumber),this.$pagination.find('a[data-href="'+this.get_info().pageNumber+'"]').parent("li").addClass("current"),this.$pagination.fadeIn(),this.$pagination.on("click","li",(function(n){$(n.currentTarget).hasClass("current")||(t.$listInter.html(""),t.$spinner.fadeIn(),t.$pagination.hide(),$("html,body").animate({scrollTop:0},240))})))},n.prototype.pc_switch_page_number_opera=function(){var t=this;this.$pagination.on("click",".page-number",(function(n){n.preventDefault();var e=$(n.currentTarget),i=parseInt(e.find("span").text());e.hasClass("current")||(t.ajax_get_data(t.get_info().termId,i),t.window_history_push_state(i))}))},n.prototype.pc_switch_page_arrow_next=function(){var t=this;this.$pagination.on("click",".page-prev",(function(n){t.ajax_get_data(t.get_info().termId,t.get_info().pageNumber-1),t.window_history_push_state(t.get_info().pageNumber-1)})),this.$pagination.on("click",".page-next,.line-see-more",(function(n){t.ajax_get_data(t.get_info().termId,t.get_info().pageNumber+1),t.$lineSeeMore.hide(),t.$spinner.fadeIn(),t.window_history_push_state(t.get_info().pageNumber+1)})),this.$pagination.on("click",".page-first",(function(n){t.ajax_get_data(t.get_info().termId,1),t.window_history_push_state(1)})),this.$pagination.on("click",".page-last",(function(n){t.ajax_get_data(t.get_info().termId,t.get_info().pageTotal),t.window_history_push_state(t.get_info().pageTotal)}))},n.prototype.pc_pagination_refresh=function(t){this.pc_pagination_js_pages(t.page_total,t.page_number),this.$spinner.attr("data-page-number",t.page_number).attr("data-page-total",t.page_total),this.$pagination.find('a[data-href="'+t.page_number+'"]').parent("li").addClass("current")},n.prototype.pc_pagination_js_pages=function(t,n){var e="",i=1,a=1;t<=5?(i=t,a=1):t>5&&n<4?(i=5,a=1):t>5&&n>=4&&(i=n+2>=t?t:n+2,a=n-2);for(var o=a;o<=i;o++)e+='<li class="page-number"><a type="button" data-href="'+o+'"><span>'+o+"</span></a></li>";var r="\n    "+(n>2?'<li class="page-first"><a type="button"><i class="icon-arrow-more"></i></a></li>':"")+"\n    "+(n>1?'<li class="page-prev"><a type="button"><i class="icon-navigate-before"></i></a></li>':"")+e+(t>1&&n<t?'<li class="page-next"><a type="button"><i class="icon-navigate-next"></i></a></li>':"")+(t>1&&n<t-1?'<li class="page-last"><a type="button"><i class="icon-arrow-more"></i></a></li>':"");this.$pagination.find(".list-pager ul").html(r)},n.prototype.mb_scroll_page_refresh=function(){var t=this,n=function(){var n=t.$listInter.outerHeight();.75*(($("html").scrollTop()||$("body").scrollTop())+window.innerHeight)>.75*n&&(t.ticking=!0,t.ajax_get_data(t.get_info().termId,t.get_info().pageNumber+1),t.$spinner.fadeIn(),t.$lineSeeMore.hide())};window.addEventListener("scroll",(function(){if(!(window.innerWidth>=1260||t.get_info().pageNumber===t.get_info().pageTotal))return t.ticking||t.get_info().pageNumber%3!=0?void(!t.ticking&&requestAnimationFrame(n)):(t.$lineSeeMore.css("display","block"),void(t.ticking=!0))}),!1)},n.prototype.mb_window_refresh_load_data=function(){this.get_info().pageNumber<2||window.innerWidth>1259||this.window_history_push_state(1)},n}(a),s=function(){function t(){this.$categoryTab=$(".category-tab"),this.$currentLabelName=$("#current-label-name"),this.$labelWrap=this.$categoryTab.find(".label-wrap"),this.init()}return t.prototype.init=function(){this.mobile_modal_content_init(),this.mobile_modal_show_off()},t.prototype.mobile_modal_content_init=function(){window.innerWidth<768&&(this.$labelWrap.append('<button id="close-btn" class="d-md-none"><i class="icon-close"></i></button>'),this.$labelWrap.after('<div class="modal-mask" class="d-md-none"></div>'))},t.prototype.mobile_modal_show_off=function(){var t=this;this.$currentLabelName.children(".title").html(this.$labelWrap.find("li.active>a").html()),this.$currentLabelName.on("click",(function(n){t.$categoryTab.find(".category-content").addClass("show"),$("body").css({overflow:"hidden"})})),this.$categoryTab.find(".category-content").on("click",".modal-mask,#close-btn",(function(){t.$categoryTab.find(".category-content").removeClass("show"),$("body").css({overflow:""})})),this.$labelWrap.find("li").on("click",(function(n){var e=$(n.currentTarget).children("a").html();t.$currentLabelName.children(".title").html(e)}))},t}(),p=function(){function t(){this.$jsFave=$(".js-fave-btn"),this.init()}return t.prototype.init=function(){this.likes()},t.prototype.likes=function(){var t=this;$("body").on("click",".js-fave-btn",(function(n){var e=$(n.currentTarget),i=e.parents(".img-item").data("id"),a=Number(e.find("span").html().replace(/\,/g,""));e.addClass("likes").find("span").html(String(a+1).replace(/(.)(?=(\d{3})+$)/g,"$1,")),t.ajax(i),e.on("click",(function(){return!1}))}))},t.prototype.ajax=function(t){$.ajax({type:"post",url:ghAjax.ajaxurl,dataType:"json",data:{security:ghAjax.security,action:"gh_ajax_likes_count",ID:t}})},t}();new s,new a,new r,new p,window.addEventListener("load",(function(t){setTimeout((function(){window.innerWidth<1260&&window.scroll(0,0)}),300)}),!1)}]);