!function(){"use strict";var t,e,i,n,o,s={832:function(t,e,i){window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=11)}([function(t,e){t.exports=i(609)},function(t,e,i){i.r(e);var n=i(0),o=i.n(n),s=(i(3),i(2)),r=function(){function t(t){this.config={el:o()(),min:0,max:100,step:1,value:50,isRtl:!1},this.isRtl=!1,this.config=o.a.extend({},this.config,t),this.$el=o()(this.config.el).eq(0),this.$eventEl=o()("<div />"),this.$fill=o()('<div class="range-fill"></div>'),this.$handle=o()('<button class="range-handle"></button>'),this.rangeRectWidth=0,this.handleRectWidth=0,this.maxHandleLimitPositionLeft=0,this.centerOfHandle=0,this.positionLeft=0,this.randomClass="range-"+Math.random().toString().slice(2),this.startEvent=["mousedown","touchstart"].join("."+this.randomClass+" "),this.moveEvent=["mousemove","touchmove"].join("."+this.randomClass+" "),this.endEvent=["mouseup","touchend"].join("."+this.randomClass+" "),this.lastValue=-1,this.isRtl=this.config.isRtl,this.init()}return t.prototype.init=function(){this.isRtl&&this.$el.addClass("rtl"),this.$el.addClass("range").addClass(this.randomClass),this.$el.append(this.$fill,this.$handle),this.update_rect(),this.set_position_left(),this.event_handle()},t.prototype.update=function(){this.on_resize()},t.prototype.set_value=function(t,e){return void 0===e&&(e=!1),t=e?t*this.config.max:t,this.update_rect(),this.set_position_left(this.get_position_left_by_value(t),!1,!0),this},t.prototype.destroy=function(){this.$eventEl.trigger("beforeDestroy"),this.$el.removeClass("range").removeClass(this.randomClass),this.$el.html(""),this.$el=o()(),this.$eventEl=o()(),this.$fill=o()(),this.$handle=o()(),o()(document).off(this.startEvent),o()(window).off("resize."+this.randomClass)},t.prototype.on=function(t,e){return this.$eventEl.on(t,e),this},t.prototype.one=function(t,e){return this.$eventEl.one(t,e),this},t.prototype.off=function(t){return this.$eventEl.off(t),this},t.prototype.event_handle=function(){var t=this;o()(document).on(this.startEvent,"."+this.randomClass,(function(e){return t.$eventEl.trigger("changeStart")&&t.on_start_event_handle(e)})),o()(window).on("resize."+this.randomClass,Object(s.debounce)(this.on_resize.bind(this),200))},t.prototype.on_resize=function(){this.update_rect(),this.set_position_left(this.positionLeft,!0)},t.prototype.on_start_event_handle=function(t){var e=this;t.preventDefault(),this.on_move_event_handle(t),o()(document).on(this.moveEvent,(function(t){return e.on_move_event_handle(t)})).on(this.endEvent,(function(t){e.$eventEl.trigger("changeEnded"),e.on_move_event_handle(t),e.on_end_event_handle(t)}))},t.prototype.on_move_event_handle=function(t){var e=this.$el.offset().left,i=t.clientX;if(!i){if(!(t.originalEvent.touches&&t.originalEvent.touches.length>0))return;i=t.originalEvent.touches[0].clientX}var n=i-e-this.centerOfHandle;this.isRtl&&(n=this.$el.outerWidth()-n-this.centerOfHandle),this.set_position_left(n)},t.prototype.on_end_event_handle=function(t){t.preventDefault(),o()(document).off(this.moveEvent).off(this.endEvent)},t.prototype.set_position_left=function(t,e,i){void 0===t&&(t=this.positionLeft),void 0===e&&(e=!1),void 0===i&&(i=!1),t=Math.min(Math.max(0,t),this.maxHandleLimitPositionLeft),this.config.value=e?this.lastValue:this.get_value_by_position_left(t),this.positionLeft=t=this.get_position_left_by_value(this.config.value),(this.lastValue!==this.config.value||e)&&(this.lastValue=this.config.value,this.$fill.css("width",t),this.$handle.css(this.isRtl?"right":"left",t),!e&&this.$eventEl.trigger("slideChange",[this.config.value,+(this.config.value/this.config.max).toFixed(4),i]))},t.prototype.update_rect=function(){this.rangeRectWidth=this.$el.outerWidth(),this.handleRectWidth=this.$handle.outerWidth(),this.maxHandleLimitPositionLeft=this.rangeRectWidth-this.handleRectWidth,this.centerOfHandle=this.handleRectWidth/2,this.positionLeft=this.get_position_left_by_value(this.config.value)},t.prototype.get_position_left_by_value=function(t){var e=(t-this.config.min)/(this.config.max-this.config.min);return isNaN(e)||e<0?0:this.maxHandleLimitPositionLeft*e},t.prototype.get_value_by_position_left=function(t){var e=t/this.maxHandleLimitPositionLeft;return parseInt(this.config.step*Math.round(e*(this.config.max-this.config.min)/this.config.step)+this.config.min+"")},t}();e.default=r},function(t,e){function i(t,e,i){var n,o,s,r,a;function u(){var l=Date.now()-r;l<e&&l>=0?n=setTimeout(u,e-l):(n=null,i||(a=t.apply(s,o),s=o=null))}null==e&&(e=100);var l=function(){s=this,o=arguments,r=Date.now();var l=i&&!n;return n||(n=setTimeout(u,e)),l&&(a=t.apply(s,o),s=o=null),a};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(a=t.apply(s,o),s=o=null,clearTimeout(n),n=null)},l}i.debounce=i,t.exports=i},function(t,e,i){},,,,,,,,function(t,e,i){t.exports=i(1)}])},155:function(t,e,i){window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=11)}({0:function(t,e){t.exports=i(609)},1:function(t,e,i){i.r(e);var n=i(0),o=i.n(n),s="play",r=function(){function t(t){this.config={src:"",autoPlay:!1,frequency:200,volume:.5},this.$eventEl=o()("<div />"),this.watcher=0,this.audio=new Audio,this.canplay=!1,this.firstTimeLoad=!0,this.config=o.a.extend({},this.config,t),this.lastVolume=this.config.volume,this.init()}return t.prototype.init=function(){this.audio=new Audio,this.event_handler(),this.load_audio(this.config.src,this.config.autoPlay)},t.prototype.play=function(){this.canplay&&this.audio.paused&&this.hack_chrome_autoplay_policy()},t.prototype.pause=function(t){void 0===t&&(t=!1),(this.canplay&&!this.audio.paused||t)&&(this.$eventEl.trigger("pause",[this.audio.currentTime,this.audio.duration,this.audio]),window.clearInterval(this.watcher),this.audio.pause())},t.prototype.toggle_play=function(){this.audio.paused?this.play():this.pause()},t.prototype.mute=function(){this.lastVolume=this.audio.volume,this.audio.volume=0,this.$eventEl.trigger("mute")},t.prototype.unmute=function(){this.canplay&&(this.audio.volume=0===this.lastVolume?.1:this.lastVolume,this.$eventEl.trigger("unmute",this.audio.volume))},t.prototype.toggle_mute=function(){0===this.audio.volume?this.unmute():this.mute()},t.prototype.load_audio=function(t,e){var i=this;this.canplay=!1,o()(this.audio).one("canplay",(function(){i.canplay=!0,i.$eventEl.trigger("loaded",[i.audio.currentTime,i.audio.duration]),e&&i.hack_chrome_autoplay_policy()})),this.audio.src=t,this.audio.load()},t.prototype.set_volume=function(t){this.lastVolume=this.audio.volume,this.audio.volume=t,this.$eventEl.trigger("volumeUpdate",[t])},t.prototype.get_volume=function(){return this.audio.volume},t.prototype.set_current_time=function(t,e){void 0===e&&(e=!1),this.canplay&&(this.audio.currentTime=e?Math.floor(this.audio.duration*t):t,this.$eventEl.trigger("currentTimeUpdate",[this.audio.currentTime,this.calc_percentage(this.audio.currentTime,this.audio.duration),this.audio]))},t.prototype.get_current_time=function(){if(this.canplay)return this.audio.currentTime},t.prototype.get_duration=function(){return this.audio.duration},t.prototype.format_time=function(t){var e=String("00"+Math.floor(t/3600)).slice(-2)+":",i=String("00"+Math.floor(t%3600/60)).slice(-2)+":",n=String("00"+Math.floor(t%3600%60)).slice(-2);return t>3600?e+i+n:i+n},t.prototype.destroy=function(){this.$eventEl.trigger("destroy"),window.clearInterval(this.watcher),this.canplay=!1,this.$eventEl.remove(),this.audio.src=""},t.prototype.on=function(t,e){return this.$eventEl.on(t,e),this},t.prototype.one=function(t,e){return this.$eventEl.one(t,e),this},t.prototype.off=function(t){return this.$eventEl.off(t),this},t.prototype.event_handler=function(){var t=this;o()(this.audio).on("loadstart",(function(){t.$eventEl.trigger("loadstart")})).on("ended",(function(){t.$eventEl.trigger("ended")}))},t.prototype.set_watcher_interval=function(){var t=this;window.clearInterval(this.watcher),this.watcher=window.setInterval((function(){t.$eventEl.trigger("watcherUpdate",[t.audio.currentTime,t.calc_percentage(t.audio.currentTime,t.audio.duration),t.audio.duration,t.audio.ended])}),this.config.frequency)},t.prototype.set_default_volume=function(){this.firstTimeLoad&&(this.set_volume(this.config.volume),this.firstTimeLoad=!1)},t.prototype.calc_percentage=function(t,e){return+(parseInt(t)/parseInt(e)).toFixed(4)},t.prototype.hack_chrome_autoplay_policy=function(){var t=this,e=this.audio.play();void 0!==e?e.then((function(){t.set_default_volume(),t.$eventEl.trigger(s,[t.audio]),t.set_watcher_interval()})).catch((function(e){t.pause(!0),console.log(e,"vAudio必须要有用户交互才能自动播放, https://developers.google.com/web/updates/2016/03/play-returns-promise")})):(this.set_default_volume(),this.$eventEl.trigger(s,[this.audio]),this.set_watcher_interval())},t}();e.default=r},11:function(t,e,i){t.exports=i(1)}})},609:function(t){t.exports=jQuery}},r={};function a(t){if(r[t])return r[t].exports;var e=r[t]={exports:{}};return s[t](e,e.exports,a),e.exports}a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t=a(155),e=a.n(t),i=a(832),n=a.n(i),o=function(){function t(){this.isFirstTimeMute=!0,this.isMute=!1,this.isTap=!1,this.newPercentage=0,this.init()}return t.prototype.init=function(){this.init_element(),this.init_vAudio(),this.init_audio_range(),this.init_volume_range(),this.close_fix_player(),this.on_scroll()},t.prototype.init_element=function(){this.$fixPlayer=$("#fix-player"),this.$fixPlayerClose=$("#fix-player .btn-icon-close"),this.durationSeconds=0,this.isFirstPlayer=!0},t.prototype.hide_volume_bar_on_ios=function(){$(".audio-player-reader").addClass("ios")},t.prototype.init_vAudio=function(){var t=this,i=this,n=$(".audio-player-reader").data("url");this.V=new(e())({src:n,autoPlay:!1}),this.V.on("loaded",(function(e,i,n){$(".current-time").html(t.V.format_time(i)),$(".audio-player-reader .duration, #fix-player .duration").html(t.V.format_time(n)),t.durationSeconds=n,$(".audio-player-reader").removeClass("loading")})),this.V.on("watcherUpdate",(function(e,i,n,o,s){t.isTap||t.isSwitch||(t.audioRange.set_value(n,!0),$(".current-time").html(t.V.format_time(i)))})).on("ended",(function(){t.V.set_current_time(0),t.V.play()})).on("play",(function(){t.$fixPlayerClose.find(".icon-navigate-next").addClass("hidden"),t.$fixPlayerClose.find(".icon-close").removeClass("hidden"),$(".play-pause").addClass("playing");var e=window.innerWidth>=768?"slide-right-PC":"slide-right-MB";i.$fixPlayer.removeClass().addClass(e)})).on("pause",(function(){$(".play-pause").removeClass("playing")})),$(".play-pause").on("click",(function(e){var i=$(e.currentTarget);t.isFirstPlayer?t.isFirstPlayer=!1:(t.$fixPlayerClose.toggle(),t.$fixPlayerClose.find(".icon-close").removeClass("hidden"),t.$fixPlayerClose.find(".icon-navigate-next").addClass("hidden"),""!==t.$fixPlayerClose.attr("style")?t.isTicking=!0:t.isTicking=!1),i.hasClass("playing")?t.V.pause():t.V.play()}))},t.prototype.init_audio_range=function(){var t=this,e=this;this.audioRange=new(n())({el:"#range-target",value:0,min:0,max:1e3});var i=0;this.isSwitch=!1,this.audioRange.on("changeStart",(function(){t.isTap=!0})),this.audioRange.on("changeEnded",(function(){t.isTap=!1,t.isSwitch=!1,t.V.set_current_time(i,!0),!t.V.audio.paused&&t.V.play()})),this.audioRange.on("slideChange",(function(n,o,s,r){$(".current-time").html(t.V.get_duration()?t.V.format_time(e.durationSeconds*s):"00:00"),r||(i=s)}))},t.prototype.init_volume_range=function(){var t=this;this.volumeRange=new(n())({el:"#volume-range-target",value:50,min:0,max:100}),$(".volume-box .btn-icon").on("click",(function(e){$(e.currentTarget).index()?(t.volumeRange.set_value(100),t.V.set_volume(1),t.isMute=!1):(t.isFirstTimeMute&&$("body").hasClass("IOS")&&(t.isFirstTimeMute=!1,t.V.one("play",(function(){t.isMute&&t.V.mute()}))),t.V.mute(),t.volumeRange.set_value(0),t.isMute=!0)}));var e=!1;this.volumeRange.on("changeStart",(function(){return e=!0})),this.volumeRange.on("changeEnded",(function(){return e=!1})),this.volumeRange.on("slideChange",(function(i,n,o,s){!e&&!s&&t.V.set_volume(o),0==o?(t.volumeRange.set_value(0),t.V.mute()):t.V.set_volume(o)}))},t.prototype.close_fix_player=function(){var t=this;this.$fixPlayerClose.on("click",(function(){var e=window.innerWidth>=768?"slide-right-PC":"slide-right-MB",i=t.$fixPlayer.attr("class").includes("right")?"slide-left-PC":e;t.$fixPlayer.removeClass().addClass(i),t.$fixPlayer.attr("class").includes("right")?(t.$fixPlayerClose.find(".icon-close").removeClass("hidden"),t.$fixPlayerClose.find(".icon-navigate-next").addClass("hidden"),t.isTicking=!1):t.isTicking=!0}))},t.prototype.on_scroll=function(){var t=this;this.isTicking=!0,$(window).on("scroll",(function(){t.isTicking||window.requestAnimationFrame((function(){setTimeout((function(){t.$fixPlayer.removeClass().addClass("slide-left-MB"),t.$fixPlayerClose.find(".icon-close").addClass("hidden"),t.$fixPlayerClose.find(".icon-navigate-next").removeClass("hidden"),t.isTicking=!1}),400)})),t.isTicking=!0}))},t.prototype.detect_is_ios=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},t}(),window.addEventListener("load",(function(){new o}))}();