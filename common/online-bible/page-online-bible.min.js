!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){t.exports=n(2)},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(1);var i=function(){function t(){this.$chapter=$(".chapter"),this.$section=$(".section"),this.$chapterTitle=$(".chapter").find(".title"),this.$sectionTitle=$(".section").find(".title"),this.$chapterList=$(".chapter").find(".list"),this.$sectionList=$(".section").find(".list"),this.$sectionSectionBox=$(".section").find(".section-box"),this.$btnClose=$(".icon-close"),this.init()}return t.prototype.init=function(){this.global_handler(),this.expend_chapter(),this.expend_section(),this.close_list(),this.mobile_change_bible(),this.select_chapter()},t.prototype.global_handler=function(){var t=this;this.$chapterList.removeClass("d-none"),this.$sectionList.removeClass("d-none"),setTimeout((function(){var t=$(".chapter .lc-body dl").index($(".chapter .lc-body").find("dd.active").parent());$(".lc-tab li").eq(t).trigger("click")}),500),$(document).on("click",(function(e){$(e.target).hasClass("title")||$(e.target).parents(".lc-body").length<=0&&(t.$chapter.removeClass("show"),t.$section.removeClass("show"),t.remove_i(),t.show_scroll())}))},t.prototype.mobile_change_bible=function(){$(".lc-tab li").on("click",(function(t){var e=$(t.currentTarget).index();$(t.currentTarget).addClass("active").siblings().removeClass("active"),$(".chapter .lc-body").find("dl").eq(e).addClass("active").siblings().removeClass("active")}))},t.prototype.expend_chapter=function(){var t=this;this.$chapterTitle.on("click",(function(){if(t.$chapter.toggleClass("show"),t.$section.removeClass("show"),window.innerWidth<992){t.$chapterList.height(window.innerHeight);var e=window.innerHeight-64-60-24-$(".lc-tab").innerHeight();t.$chapterList.find("dl").css({"max-height":e+"px"}),console.log("展开"),console.log($(".lc-body dl.active").find("dd.active")),$(".lc-body dl.active").find("dd.active").animate({scrollTop:0},240)}t.hide_scroll()}))},t.prototype.expend_section=function(){var t=this;this.$sectionTitle.on("click",(function(){if(t.add_i(),t.$section.toggleClass("show"),t.$chapter.removeClass("show"),window.innerWidth<992){t.$sectionList.height(window.innerHeight);var e=window.innerHeight-64-48-24;t.$sectionSectionBox.css({"max-height":e+"px"})}t.hide_scroll()}))},t.prototype.select_chapter=function(){var t=this;$(".chapter .lc-body").on("click","dd",(function(e){$(e.currentTarget).attr("data-term-id");var n=$(e.currentTarget).attr("data-link");window.location.href=n,$(".chapter .title").text($(e.currentTarget).text()),$(".section .title").text(1),t.$chapter.removeClass("show"),t.show_scroll()}))},t.prototype.add_i=function(){for(var t="",e=0;e<12;e++)t+="<i><b></b></i>";$(".bible-nav .section .section-box").append(t)},t.prototype.remove_i=function(){window.innerWidth<992?setTimeout((function(){$(".bible-nav .section .section-box").find("i").remove()}),650):$(".bible-nav .section .section-box").find("i").remove()},t.prototype.hide_scroll=function(){window.innerWidth<992&&$("html").attr("style","overflow: hidden")},t.prototype.show_scroll=function(){$("html").attr("style","")},t.prototype.close_list=function(){var t=this;this.$btnClose.on("click",(function(){t.$chapterList.removeClass("show"),t.remove_i(),t.show_scroll()}))},t}(),o=function(){function t(){this.$searchForm=$(".bible-nav-search .search-form"),this.$searchInput=$(".bible-nav-search .search-form .search-input"),this.$clearBtn=$(".bible-nav-search .search-form .clear-btn"),this.init()}return t.prototype.init=function(){""!==this.$searchInput.get(0).value.trim()&&this.$clearBtn.addClass("on"),this.check_not_empty()},t.prototype.check_not_empty=function(){var t=this;this.$searchForm.on("submit",(function(){var e=$.trim(t.$searchInput.val());return""!=e&&null!=e}))},t}(),r=function(){function t(){this.init()}return t.prototype.init=function(){new i,new o},t}(),a=function(){var t=navigator.userAgent,e="";return/(Android)/i.test(t)?e="Android":/(iPhone|iPad|iPod|iOS)/i.test(t)?e="IOS":t.indexOf("Trident")>-1?e="IE":t.indexOf("Presto")>-1?e="opera":t.indexOf("Chrome")>-1?e="Chrome":t.indexOf("Safari")>-1?e="Safari":t.indexOf("Gecko")>-1&&t.indexOf("Firefox")>-1&&(e="Firefox"),e},s=function(t){var e=window.location.href,n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},c=function(t,e){var n,i=window.location.href;switch(t){case"q":n=/\?s=(.*?)&/,i=i.replace(n,"?q="+e+"&");break;case"pn":~i.indexOf(t)?(n=/pn=(.*?)$/,i=i.replace(n,"pn="+e)):i+="&pn="+e}window.history.replaceState({href:i},"",i)},p=function(t,e){if("localStorage"in window)try{window.localStorage.setItem(t,e)}catch(t){console.log("Sorry, window no localStorage !")}},l=function(t){if("localStorage"in window)try{return window.localStorage.getItem(t)}catch(t){return void console.log("Sorry, window no localStorage !")}},u=function(){function t(){this.$fontAdd=$("button.font-add"),this.$fontCut=$("button.font-cut"),this.$entryContentWrapper=$(".the-post-cont"),this.$p=this.$entryContentWrapper.children("p"),this.fontSize=null!==l("zq-reader-fontsize")?parseInt(l("zq-reader-fontsize")):20,this.init()}return t.prototype.init=function(){this.set_default_fontsize(),this.font_add_fn(),this.font_cut_fn()},t.prototype.set_default_fontsize=function(){var t=this;this.$p.map((function(e,n){$(n).css("font-size",t.fontSize)}))},t.prototype.font_add_fn=function(){var t=this;this.$fontAdd.on("click",(function(e){t.fontSize=t.fontSize+2>=40?40:t.fontSize+2,t.$p.css("font-size",t.fontSize),p("zq-reader-fontsize",t.fontSize)}))},t.prototype.font_cut_fn=function(){var t=this;this.$fontCut.on("click",(function(e){t.fontSize=t.fontSize-2<=14?14:t.fontSize-2,t.$p.css("font-size",t.fontSize),p("zq-reader-fontsize",t.fontSize)}))},t}(),h=function(){function t(){this.$minTopAimEl=$(".bible-nav"),this.$maxTopAimEl=$(".popular-call-action-base.base-package").length>0?$(".popular-call-action-base.base-package"):$("#web-footer"),this.init()}return t.prototype.init=function(){var t=this,e=0,n=0,i=[0,0],o=i[0],r=i[1];$(window).on("scroll",(function(i){e=$(i.target).scrollTop(),o=t.$minTopAimEl.offset().top,r=t.$maxTopAimEl.offset().top,window.innerWidth<992&&(n<=e?$(".trust-attach").stop().fadeOut(80):e>o&&e<r-window.innerHeight/3?$(".trust-attach").stop().fadeIn(80):$(".trust-attach").stop().fadeOut(80)),setTimeout((function(){n=e}),20)}))},t}(),f=function(){function t(){this.init()}return t.prototype.init=function(){var t=document.querySelector(".app-store #app-download-btn");t&&t.addEventListener("click",(function(){"Android"==a()?window.open(t.getAttribute("data-google-play-link"),"_blank"):"IOS"==a()?window.open(t.getAttribute("data-apple-store-link"),"_blank"):window.open(t.getAttribute("data-app-topic-link"),"_blank")}))},t}(),d=function(){function t(){this.init()}return t.prototype.init=function(){$(".bible-reader").length>0&&(new u,new h,new f)},t}(),g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function _(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function w(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))}function b(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var v=function(){function t(){this.$searchResults=$("#search-results"),this.$spinner=$(".bible-search .spinner-box"),this.$pagination=$(".bible-search .pagination"),this.$lineSeeMore=this.$pagination.find("a.line-see-more"),this.$searchInput=$(".bible-nav-search .search-form .search-input")}return t.prototype.get_info=function(){if(0!==this.$searchResults.length){var t={};return t.pageTotal=parseInt(this.$searchResults.attr("data-page-total")),t.pageNumber=parseInt(this.$searchResults.attr("data-page-number")),t.pageSize=parseInt(this.$searchResults.attr("data-page-size")),t.keywords=this.$searchInput.val(),t}},t.prototype.set_info=function(t,e,n){0!==this.$searchResults.length&&(this.$searchResults.attr("data-page-total",t),this.$searchResults.attr("data-page-number",e),this.$searchResults.attr("data-page-size",n))},t}(),y=function(t){var e="";return t.forEach((function(t){e+='<p>\n                    <a class="chapter" href="'+t.link+'">'+t.post_title+"</a>\n                    <span>"+t.post_excerpt+"</span>\n                 </p>"})),e},m=function(t,e,n){return new Promise((function(i){$.ajax({type:"POST",url:"wp-admin/admin-ajax.php",dataType:"json",cache:!1,data:{action:"gh_bible_search_posts",keyword:t,page_size:n,page_number:e}}).then((function(t){i(t),t.pagination.page_number&&($(window).trigger("pc_pagination_refresh",[t.pagination]),window.ticking=!1)}))}))},x=window.location.href;x=x.indexOf("/page/")?x.split("/page/")[0]:x;var k=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return _(e,t),e.prototype.init=function(){var t=this;this.pc_create_pagination_init(),this.pc_switch_page_number_opera(),this.pc_switch_page_arrow_next(),$(window).on("pc_pagination_refresh",(function(e,n){return t.pc_pagination_refresh(n)}))},e.prototype.posts_content_refresh=function(t){this.$searchResults.append(y(t)),this.$spinner.fadeOut(100)},e.prototype.pc_create_pagination_init=function(){if(!(this.get_info().pageTotal<2)){var t=null!==s("pn")?parseInt(s("pn")):1;this.pc_pagination_js_pages(this.get_info().pageTotal,t),this.$pagination.find('a[data-href="'+t+'"]').parent("li").addClass("current")}},e.prototype.pc_switch_page_number_opera=function(){var t=this;this.$pagination.on("click","li.page-number",(function(e){return w(t,void 0,void 0,(function(){var t;return b(this,(function(n){return e.preventDefault(),(t=$(e.currentTarget)).hasClass("current")||this.refresh_lists(parseInt(t.find("span").text())),[2]}))}))}))},e.prototype.refresh_lists=function(t){return w(this,void 0,void 0,(function(){var e;return b(this,(function(n){switch(n.label){case 0:return window.innerWidth>1247&&(this.$searchResults.html(""),$("html,body").animate({scrollTop:0},240)),this.$spinner.fadeIn(),this.$pagination.hide(),this.$lineSeeMore.hide(),c("pn",t),[4,m(this.get_info().keywords,t,this.get_info().pageSize)];case 1:return e=n.sent(),this.posts_content_refresh(e.posts),[2]}}))}))},e.prototype.pc_switch_page_arrow_next=function(){var t=this;this.$pagination.on("click",".page-prev",(function(e){t.$pagination.find("li.current").prev().trigger("click")})),this.$pagination.on("click",".page-next,.line-see-more",(function(e){return w(t,void 0,void 0,(function(){return b(this,(function(t){return this.$pagination.find("li.current").next().trigger("click"),[2]}))}))})),this.$pagination.on("click",".page-first",(function(e){return w(t,void 0,void 0,(function(){return b(this,(function(t){return this.refresh_lists(1),[2]}))}))})),this.$pagination.on("click",".page-last",(function(e){return w(t,void 0,void 0,(function(){return b(this,(function(t){return this.refresh_lists(this.get_info().pageTotal),[2]}))}))}))},e.prototype.pc_pagination_refresh=function(t){this.pc_pagination_js_pages(t.page_total,t.page_number),this.$searchResults.attr("data-page-number",t.page_number).attr("data-page-total",t.page_total),this.$pagination.find('a[data-href="'+t.page_number+'"]').parent("li").addClass("current")},e.prototype.pc_pagination_js_pages=function(t,e){var n="",i=1,o=1;t<=5?(i=t,o=1):t>5&&e<4?(i=5,o=1):t>5&&e>=4&&(i=e+2>=t?t:e+2,o=e-2);for(var r=o;r<=i;r++)n+='<li class="page-number"><a type="button" data-href="'+r+'"><span>'+r+"</span></a></li>";var a="\n    "+(e>2?'<li class="page-first"><a type="button"><i class="icon-arrow-more"></i></a></li>':"")+"\n    "+(e>1?'<li class="page-prev"><a type="button"><i class="icon-navigate-before"></i></a></li>':"")+n+(t>1&&e<t?'<li class="page-next"><a type="button"><i class="icon-navigate-next"></i></a></li>':"")+(t>1&&e<t-1?'<li class="page-last"><a type="button"><i class="icon-arrow-more"></i></a></li>':"");this.$pagination.find(".list-pager ul").html(a),this.$pagination.fadeIn()},e}(v),S=window,T=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return _(e,t),e.prototype.init=function(){this.mb_scroll_page_refresh(),this.window_refresh_load_data()},e.prototype.mb_scroll_page_refresh=function(){var t=this,e=function(){var e=t.$searchResults.outerHeight();.75*(($("html").scrollTop()||$("body").scrollTop())+window.innerHeight)>.75*e&&(S.ticking=!0,t.$spinner.fadeIn(),t.$lineSeeMore.hide(),c("pn",t.get_info().pageNumber+1),t.refresh_lists(t.get_info().pageNumber+1))};window.addEventListener("scroll",(function(){if(!(window.innerWidth>=1260||t.get_info().pageNumber===t.get_info().pageTotal||t.get_info().pageTotal<2)){if(!S.ticking&&t.get_info().pageNumber%3==0)return t.$lineSeeMore.css("display","block"),void(S.ticking=!0);t.$lineSeeMore.on("click",(function(){!S.ticking&&requestAnimationFrame(e)})),!S.ticking&&requestAnimationFrame(e)}}),!1)},e.prototype.refresh_lists=function(t){return w(this,void 0,void 0,(function(){var e;return b(this,(function(n){switch(n.label){case 0:return[4,m(this.get_info().keywords,t,this.get_info().pageSize)];case 1:return e=n.sent(),this.$searchResults.append(y(e.posts)),this.$spinner.fadeOut(100),this.mb_pagination_refresh(e.pagination),[2]}}))}))},e.prototype.mb_pagination_refresh=function(t){this.$searchResults.attr("data-page-number",t.page_number).attr("data-page-total",t.page_total)},e.prototype.window_refresh_load_data=function(){var t,e;this.get_info().pageNumber<2||window.innerWidth>1247||(t=1,e=this.get_info().keywords,t=window.innerWidth<1248?1:t,window.history.replaceState({index:t},"","?q="+e+"&pn="+t))},e}(v),z=function(){function t(){this.init()}return t.prototype.init=function(){$("#search-results").length>0&&(new k,new T)},t}();window.addEventListener("load",(function(){new r,new d,new z}))}]);