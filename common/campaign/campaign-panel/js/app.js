(function(t){function a(a){for(var n,c,r=a[0],s=a[1],l=a[2],d=0,v=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&v.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(a);while(v.length)v.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,r=1;r<e.length;r++){var s=e[r];0!==o[s]&&(n=!1)}n&&(i.splice(a--,1),t=c(c.s=e[0]))}return t}var n={},o={app:0},i=[];function c(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=n,c.d=function(t,a,e){c.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,a){if(1&a&&(t=c(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)c.d(e,n,function(a){return t[a]}.bind(null,n));return e},c.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(a,"a",a),a},c.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=a,r=r.slice();for(var l=0;l<r.length;l++)a(r[l]);var u=s;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0d62":function(t,a,e){},1476:function(t,a,e){"use strict";var n=e("b430"),o=e.n(n);o.a},"3f57":function(t,a,e){"use strict";var n=e("0d62"),o=e.n(n);o.a},"56d7":function(t,a,e){"use strict";e.r(a);e("4de4"),e("c975"),e("d81d"),e("ac1f"),e("5319");var n=e("5530"),o=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("2b0e")),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-main",[e("v-container",[e("v-row",{attrs:{align:"start"}},[e("v-col",{attrs:{cols:"1"}},[e("h2",[t._v("弹框广告配置")])]),e("v-col",{attrs:{cols:"2"}},[e("v-select",{attrs:{value:t.currentId,items:t.data,"item-text":t.set_select_title,"item-value":t.set_select_value,label:"弹框选择"},on:{change:t.select_change}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:t.add_new_campaign}},[e("v-icon",[t._v("add")]),t._v(" 新增弹框 ")],1),e("v-btn",{staticClass:"mr-4",attrs:{color:"#C5E1A5"},on:{click:t.add_copy_campaign}},[e("v-icon",[t._v("content_copy")]),t._v(" 复制该弹框 ")],1),e("v-btn",{staticClass:"mr-4",attrs:{color:"success"},on:{click:t.save_data}},[t.saving?[e("v-progress-circular",{attrs:{size:24,color:"#fff",width:2,indeterminate:""}}),e("span",{staticClass:"pl-4"},[t._v("保存中....")])]:[e("v-icon",[t._v("save")]),t._v(" 保存数据 ")]],2),e("v-btn",{staticClass:"mr-4",on:{click:t.open_video}},[e("v-icon",[t._v("mdi-youtube")]),t._v(" 视频教程 ")],1),e("v-btn",{staticClass:"mr-4",on:{click:t.open_doc}},[e("v-icon",[t._v("mdi-file-document")]),t._v(" 使用说明 ")],1)],1)],1),e("v-row",{staticClass:"config-box"},[e("v-col",{attrs:{cols:"12"}},[t.isHide?e("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.isHide=!1}}},[e("v-icon",[t._v("arrow_forward")]),t._v(" 展开 ")],1):e("v-btn",{attrs:{color:"primary"},on:{click:function(a){t.isHide=!0}}},[e("v-icon",[t._v("arrow_back")]),t._v(" 收起 ")],1)],1),e("v-col",{directives:[{name:"show",rawName:"v-show",value:!t.isHide,expression:"!isHide"}],attrs:{cols:"4",id:"config-area"}},[e("div",{staticClass:"config-item"},[e("v-text-field",{attrs:{label:"弹框名称",outlined:"",hint:"弹框名称用于顶部是弹框选择, 用于区分不同弹框方便站长切换,用户是看不到这个名字的"},model:{value:t.currentData.name,callback:function(a){t.$set(t.currentData,"name",a)},expression:"currentData.name"}})],1),e("div",{staticClass:"config-item area flex-column"},[e("v-switch",{attrs:{label:"是否启用该弹框"},model:{value:t.currentData.isOpen,callback:function(a){t.$set(t.currentData,"isOpen",a)},expression:"currentData.isOpen"}})],1),e("div",{staticClass:"config-item area flex-column"},[e("div",{staticClass:"d-flex"},[e("h2",[t._v("白名单列表")]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,o=a.attrs;return[e("v-icon",t._g(t._b({on:{click:t.open_docs}},"v-icon",o,!1),n),[t._v(" help ")])]}}])})],1),e("codemirror",{staticClass:"codemirror-item",attrs:{options:t.codemirrorOptions},model:{value:t.currentData.whitelist,callback:function(a){t.$set(t.currentData,"whitelist",a)},expression:"currentData.whitelist"}}),e("div",{staticClass:"d-flex"},[e("h2",[t._v("黑名单列表")]),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,o=a.attrs;return[e("v-icon",t._g(t._b({on:{click:t.open_docs}},"v-icon",o,!1),n),[t._v(" help ")])]}}])})],1),e("codemirror",{staticClass:"codemirror-item",attrs:{options:t.codemirrorOptions},model:{value:t.currentData.blacklist,callback:function(a){t.$set(t.currentData,"blacklist",a)},expression:"currentData.blacklist"}})],1),e("div",{staticClass:"config-item"},[e("v-radio-group",{attrs:{label:"布局选择"},model:{value:t.currentData.data.layout.type,callback:function(a){t.$set(t.currentData.data.layout,"type",a)},expression:"currentData.data.layout.type"}},t._l(t.layouts,(function(a,n){return e("v-radio",{key:n,attrs:{label:"布局 "+a.type,value:a.type}},[e("template",{slot:"label"},[t._v(" 布局 "+t._s(a.type)+" "),e("img",{staticClass:"layout-campaign",attrs:{src:a.img}})])],2)})),1)],1),1===t.currentData.data.layout.type?[e("layout1")]:t._e(),e("div",{staticClass:"config-item area flex-column"},[e("h2",[t._v("自定义样式")]),e("codemirror",{staticStyle:{width:"100%"},model:{value:t.currentData.data.customStyle,callback:function(a){t.$set(t.currentData.data,"customStyle",a)},expression:"currentData.data.customStyle"}})],1),e("div",{staticClass:"config-item area",staticStyle:{"flex-direction":"column"}},[e("h2",[t._v("隐私政策配置")]),e("v-subheader",{directives:[{name:"show",rawName:"v-show",value:0!==t.currentId,expression:"currentId !== 0"}],staticStyle:{color:"#f20"}},[t._v("隐私权为公用数据, 若要调整请到第一个弹框中进行设置 ")]),e("div",{staticStyle:{width:"100%"}},[e("v-text-field",{attrs:{label:"标题",outlined:"",disabled:0!==t.currentId,hint:"对应用户看到隐私权弹框的标题"},model:{value:t.privacyData.title,callback:function(a){t.$set(t.privacyData,"title",a)},expression:"privacyData.title"}}),e("v-text-field",{attrs:{label:"描述",outlined:"",disabled:0!==t.currentId,hint:"对应用户看到的隐私权描述信息, 请用**符号, 将需要添加链接的文本分开, 如 **阅读隐私权政策**"},model:{value:t.privacyData.describe,callback:function(a){t.$set(t.privacyData,"describe",a)},expression:"privacyData.describe"}}),e("v-text-field",{attrs:{label:"链接",outlined:"",disabled:0!==t.currentId,hint:"隐私权政策跳转链接"},model:{value:t.privacyData.link,callback:function(a){t.$set(t.privacyData,"link",a)},expression:"privacyData.link"}}),e("v-text-field",{attrs:{label:"取消按钮翻译",outlined:"",disabled:0!==t.currentId},model:{value:t.privacyData.cancel,callback:function(a){t.$set(t.privacyData,"cancel",a)},expression:"privacyData.cancel"}}),e("v-text-field",{attrs:{label:"同意按钮翻译",outlined:"",disabled:0!==t.currentId},model:{value:t.privacyData.agree,callback:function(a){t.$set(t.privacyData,"agree",a)},expression:"privacyData.agree"}})],1)],1),e("div",{staticClass:"d-flex flex-row justify-end"},[e("v-btn",{attrs:{color:"error"},on:{click:t.remove_campaign}},[e("v-icon",[t._v("remove")]),t._v(" 删除 ")],1)],1)],2),e("v-col",{attrs:{cols:t.isHide?12:8}},[e("preview")],1)],1),t.isShowAlert?e("v-alert",{staticClass:"campaign-alert",attrs:{type:t.alertType}},[t._v(" "+t._s(t.alertText)+" ")]):t._e()],1)],1)],1)},c=[],r=(e("7db0"),e("a434"),e("b0c0"),e("2f62")),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layout1"},[e("div",{staticClass:"config-item area",staticStyle:{"flex-direction":"column"}},[e("v-radio-group",{attrs:{label:"显示条件选择"},on:{change:t.condition_change},model:{value:t.currentData.data.condition.type,callback:function(a){t.$set(t.currentData.data.condition,"type",a)},expression:"currentData.data.condition.type"}},t._l(t.conditions,(function(t,a){return e("v-radio",{key:a,attrs:{label:t.desc,value:t.type}})})),1),1===t.currentData.data.condition.type?[e("v-subheader",{staticClass:"pl-0"},[t._v("设置显示弹框广告所需的"),e("mark",[t._v("秒数")])]),e("v-text-field",{attrs:{type:"number",editable:"",hint:"如希望用户在该页面停留5分钟后显示弹窗广告, 那么因该填写 300 (300 = 5 x 60)","persistent-hint":"",rules:[t.rules.minNumber(t.currentData.data.condition.data,30)]},model:{value:t.currentData.data.condition.data,callback:function(a){t.$set(t.currentData.data.condition,"data",a)},expression:"currentData.data.condition.data"}})]:t._e(),2===t.currentData.data.condition.type?[e("v-subheader",{staticClass:"pl-0"},[t._v("拖拽滑杆选择滚动距离"),e("mark",[t._v("百分比")])]),e("v-slider",{staticStyle:{width:"100%"},attrs:{"thumb-label":"always"},model:{value:t.currentData.data.condition.data,callback:function(a){t.$set(t.currentData.data.condition,"data",a)},expression:"currentData.data.condition.data"}})]:t._e()],2),e("div",{staticClass:"config-item area",staticStyle:{"flex-direction":"column"}},[e("h2",[t._v("再次显示条件控制")]),e("v-subheader",{staticClass:"pl-0"},[t._v("设置重复显示"),e("mark",[t._v("次数")])]),e("v-slider",{staticStyle:{width:"100%"},attrs:{"thumb-label":"always",min:"0",max:"3",step:"1"},model:{value:t.currentData.data.conditionForReshow.count,callback:function(a){t.$set(t.currentData.data.conditionForReshow,"count",a)},expression:"currentData.data.conditionForReshow.count"}}),e("v-subheader",{staticClass:"pl-0"},[t._v("设置显示弹框再次显示所需要的"),e("mark",[t._v("小时数")])]),e("v-text-field",{attrs:{type:"number",editable:"",hint:"如果希望用户关了广告超过一天后再次显示, 那么此处因该设置为 24","persistent-hint":"",rules:[t.rules.minNumber(t.currentData.data.conditionForReshow.data,3)]},model:{value:t.currentData.data.conditionForReshow.data,callback:function(a){t.$set(t.currentData.data.conditionForReshow,"data",a)},expression:"currentData.data.conditionForReshow.data"}})],1),e("div",{staticClass:"config-item"},[e("v-text-field",{attrs:{label:"触发方式记录",outlined:""},model:{value:t.currentData.data.type,callback:function(a){t.$set(t.currentData.data,"type",a)},expression:"currentData.data.type"}}),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var n=a.on,o=a.attrs;return[e("v-icon",t._g(t._b({on:{click:t.open_icon_docs}},"v-icon",o,!1),n),[t._v("help")])]}}])},[e("span",[t._v(" 该值用于设置Massager用户跟踪, 点击查看详情 ")])])],1),e("div",{staticClass:"config-item area",staticStyle:{"flex-direction":"column"}},[e("v-switch",{attrs:{label:"是否为亮色背景图"},model:{value:t.isLightSwitch,callback:function(a){t.isLightSwitch=a},expression:"isLightSwitch"}}),e("v-subheader",{staticClass:"pl-0"},[t._v("该值将会影响右上角关闭按钮的颜色")])],1),e("div",{staticClass:"config-item area",staticStyle:{"flex-direction":"column"}},[e("h2",[t._v("背景图配置")]),e("v-text-field",{staticStyle:{width:"100%"},attrs:{label:"电脑、平板端背景图",hint:"该背景图电脑与平板端通用",outlined:""},model:{value:t.currentData.data.layout.backgrounds.pc,callback:function(a){t.$set(t.currentData.data.layout.backgrounds,"pc",a)},expression:"currentData.data.layout.backgrounds.pc"}}),e("v-text-field",{staticStyle:{width:"100%"},attrs:{label:"手机端端背景图",hint:"该背景图只用于手机端",outlined:""},model:{value:t.currentData.data.layout.backgrounds.mobile,callback:function(a){t.$set(t.currentData.data.layout.backgrounds,"mobile",a)},expression:"currentData.data.layout.backgrounds.mobile"}})],1),e("div",{staticClass:"config-item area",staticStyle:{"flex-direction":"column"}},[e("h2",[t._v("号召语")]),e("v-subheader",{staticClass:"pl-0"},[t._v("(号召语中可以存在html代码)")]),e("codemirror",{staticClass:"codemirror-item",attrs:{options:{mode:"text/html"}},model:{value:t.currentData.data.layout.sign.text,callback:function(a){t.$set(t.currentData.data.layout.sign,"text",a)},expression:"currentData.data.layout.sign.text"}}),e("v-subheader",{staticClass:"pl-0"},[t._v("自适应配置")]),e("v-row",{staticClass:"responsive-box",staticStyle:{width:"100%"}},[e("v-col",{attrs:{cols:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"2"}},[t._v("端口")]),e("v-col",{attrs:{cols:"3"}},[t._v("行高")]),e("v-col",{attrs:{cols:"3"}},[t._v("字体大小")]),e("v-col",{attrs:{cols:"4"}},[t._v("颜色")])],1),t._l(t.currentData.data.layout.sign.responses,(function(a,n){return[e("v-row",{key:n},[e("v-col",{staticClass:"pt-7",attrs:{cols:"2"}},[t._v(t._s(t._f("replace_point_to_text")(n)))]),e("v-col",{attrs:{cols:"3"}},[e("v-text-field",{attrs:{outlined:""},model:{value:a.lineHeight,callback:function(e){t.$set(a,"lineHeight",e)},expression:"item.lineHeight"}})],1),e("v-col",{attrs:{cols:"3"}},[e("v-text-field",{attrs:{outlined:""},model:{value:a.fontSize,callback:function(e){t.$set(a,"fontSize",e)},expression:"item.fontSize"}})],1),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{outlined:""},model:{value:a.color,callback:function(e){t.$set(a,"color",e)},expression:"item.color"}})],1)],1)]}))],2)],1)],1),e("div",{staticClass:"config-item area",staticStyle:{"flex-direction":"column"}},[e("buttons")],1)])},l=[],u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"campaign-buttons"},[e("v-list",{attrs:{width:"100%"}},[e("v-subheader",[t._v("按钮配置")]),e("draggable",{attrs:{draggable:".button-item",handle:".drag-button"},model:{value:t.buttonsData,callback:function(a){t.buttonsData=a},expression:"buttonsData"}},t._l(t.buttonsData,(function(a,n){return e("div",{staticClass:"button-item"},[e("v-list-item",{key:n},[e("v-list-item-icon",[e("v-btn",{staticClass:"drag-button",attrs:{icon:""}},[e("v-icon",[t._v("drag_handle")])],1)],1),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(a.text))])],1),e("v-list-item-icon",[e("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.on_edit(a.order)}}},[e("v-icon",[t._v("edit")])],1),e("v-btn",{attrs:{icon:""}},[e("v-icon",{attrs:{color:"#f20"},on:{click:function(e){return t.on_remove(a.order)}}},[t._v("remove")])],1)],1)],1),e("v-divider")],1)})),0),e("v-row",{staticClass:"d-flex flex-row justify-end"},[e("v-btn",{staticClass:"mt-6 mr-6",attrs:{color:"primary"},on:{click:t.add_one}},[e("v-icon",[t._v("add")]),t._v(" 添加新按钮 ")],1)],1)],1),e("v-dialog",{attrs:{width:"70vw"},model:{value:t.dialogShow,callback:function(a){t.dialogShow=a},expression:"dialogShow"}},[e("v-card",[e("v-card-title",{staticClass:"headline grey lighten-2"},[t._v(t._s(t.isAddButton?"新增按钮":"修改按钮")+" "),e("v-btn",{attrs:{icon:""}},[e("v-icon",{on:{click:t.go_docs}},[t._v("help")])],1)],1),e("v-card-text",{staticClass:"mt-5"},[e("v-row",[e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{attrs:{label:"图标链接",outlined:"",hint:"该图标链接将会显示在按钮的左侧"},model:{value:t.buttonData.icon,callback:function(a){t.$set(t.buttonData,"icon",a)},expression:"buttonData.icon"}}),e("v-text-field",{attrs:{label:"按钮号召语",outlined:"",hint:"该号召语将会与上面的图标一并显示"},model:{value:t.buttonData.text,callback:function(a){t.$set(t.buttonData,"text",a)},expression:"buttonData.text"}}),e("v-text-field",{attrs:{label:"跳转链接",outlined:"",hint:"当用户点击按钮是, 所需要跳转的链接"},model:{value:t.buttonData.link,callback:function(a){t.$set(t.buttonData,"link",a)},expression:"buttonData.link"}})],1),e("v-col",{attrs:{cols:"3"}},[e("v-text-field",{attrs:{label:"按钮文字颜色",outlined:"",hint:"按钮内部文字的颜色"},model:{value:t.buttonData.color,callback:function(a){t.$set(t.buttonData,"color",a)},expression:"buttonData.color"}}),e("v-text-field",{attrs:{label:"按钮颜色",outlined:"",hint:"该颜色为默认用户看到该按钮的颜色"},model:{value:t.buttonData.backgroundColor,callback:function(a){t.$set(t.buttonData,"backgroundColor",a)},expression:"buttonData.backgroundColor"}}),e("v-text-field",{attrs:{label:"hover颜色",outlined:"",hint:"当用户鼠标移入按钮时, 按钮所变化的颜色"},model:{value:t.buttonData.backgroundColorHover,callback:function(a){t.$set(t.buttonData,"backgroundColorHover",a)},expression:"buttonData.backgroundColorHover"}})],1),e("v-col",{attrs:{cols:"4"}},[e("v-row",{staticStyle:{width:"100%"}},[e("v-col",{attrs:{cols:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"3"}},[t._v("端口")]),e("v-col",{attrs:{cols:"4"}},[t._v("行高")]),e("v-col",{attrs:{cols:"4"}},[t._v("字体大小")])],1),t._l(t.buttonData.responses,(function(a,n){return[e("v-row",{key:n},[e("v-col",{staticClass:"pt-8",attrs:{cols:"3"}},[t._v(t._s(t._f("replace_point_to_text")(n)))]),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{outlined:""},model:{value:a.lineHeight,callback:function(e){t.$set(a,"lineHeight",e)},expression:"item.lineHeight"}})],1),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{outlined:""},model:{value:a.fontSize,callback:function(e){t.$set(a,"fontSize",e)},expression:"item.fontSize"}})],1)],1)]}))],2)],1),e("v-switch",{staticClass:"switch-control",attrs:{label:"是否提示隐私权政策"},model:{value:t.buttonData.isPrivacy,callback:function(a){t.$set(t.buttonData,"isPrivacy",a)},expression:"buttonData.isPrivacy"}})],1)],1)],1),e("v-divider"),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"error"},on:{click:function(a){t.dialogShow=!1}}},[t._v("取消")]),e("v-btn",{attrs:{color:"primary"},on:{click:t.save_button}},[t._v(t._s(t.isAddButton?"添加":"保存"))])],1)],1)],1)],1)},d=[],v=e("310e"),p=e.n(v),b={icon:"",text:"",link:"",isPrivacy:!0,color:"",backgroundColor:"",backgroundColorHover:"",boxShadow:"",responses:{pc:{lineHeight:"1.3em",fontSize:"18px"},tablet:{lineHeight:"1.3em",fontSize:"16px"}}},f={name:"buttons",computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["currentData"])),{},{buttonsData:{get:function(){return this.currentData.data.layout.buttons},set:function(t){var a=0;t.map((function(t){return t.order=a++})),this.currentData.data.layout.buttons=t}}}),components:{draggable:p.a},data:function(){return{buttonData:{},dialogShow:!1,isAddButton:!1}},mounted:function(){},methods:{add_one:function(){this.dialogShow=!0,this.isAddButton=!0,this.buttonData=Object.assign({},b)},on_edit:function(t){this.dialogShow=!0,this.isAddButton=!1,this.buttonData=this.currentData.data.layout.buttons.find((function(a){return a.order===t}))},on_remove:function(t){var a=this.currentData.data.layout.buttons.find((function(a){return a.order===t}));confirm("确定删除吗?")&&this.currentData.data.layout.buttons.splice(this.currentData.data.layout.buttons.indexOf(a),1)},save_button:function(){!0===this.isAddButton?(this.currentData.data.layout.buttons.push(this.buttonData),this.dialogShow=!1):this.dialogShow=!1},go_docs:function(){window.open("https://docs.google.com/document/d/1H3j5VcIwKesqOO9hnBQ_MO2KrAq_03qh9fwQoGP-t6g/edit#heading=h.bi3jrpi2r3ks")}}},m=f,h=(e("1476"),e("2877")),_=e("6544"),g=e.n(_),y=e("8336"),x=e("b0af"),D=e("99d9"),w=e("62ad"),k=e("169a"),C=e("ce7e"),S=e("132d"),O=e("8860"),j=e("da13"),V=e("5d23"),I=e("34c3"),H=e("0fd9"),T=e("2fa4"),M=e("e0c7"),P=e("b73d"),A=e("8654"),R=Object(h["a"])(m,u,d,!1,null,"626a4890",null),L=R.exports;g()(R,{VBtn:y["a"],VCard:x["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VCol:w["a"],VDialog:k["a"],VDivider:C["a"],VIcon:S["a"],VList:O["a"],VListItem:j["a"],VListItemContent:V["a"],VListItemIcon:I["a"],VListItemTitle:V["b"],VRow:H["a"],VSpacer:T["a"],VSubheader:M["a"],VSwitch:P["a"],VTextField:A["a"]});var q={name:"layout1",computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["currentData"])),{},{isLightSwitch:{get:function(){return this.currentData.data.layout.isLight},set:function(t){this.currentData.data.layout.isLight=t}}}),components:{buttons:L},data:function(){return this.conditions=[{type:1,desc:"按时间显示"},{type:2,desc:"按滚动距离显示"}],this.rules={minNumber:function(t,a){return t>=a||"该值必须要大于".concat(a)}},{condition2Range:0}},mounted:function(){},methods:{condition_change:function(t){this.currentData.data.condition.type=t},open_icon_docs:function(){window.open("https://docs.google.com/document/d/1H3j5VcIwKesqOO9hnBQ_MO2KrAq_03qh9fwQoGP-t6g/edit#bookmark=id.cbue15o9ngah")}}},z=q,B=(e("5fca"),e("67b6")),F=e("43a6"),N=e("ba0d"),J=e("3a2f"),K=Object(h["a"])(z,s,l,!1,null,null,null),Q=K.exports;g()(K,{VCol:w["a"],VIcon:S["a"],VRadio:B["a"],VRadioGroup:F["a"],VRow:H["a"],VSlider:N["a"],VSubheader:M["a"],VSwitch:P["a"],VTextField:A["a"],VTooltip:J["a"]});var E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{class:{"preview-box":!0,"tablet-campaign-wrap":1===t.toggle_exclusive||2===t.toggle_exclusive,"mobile-campaign-wrap":2===t.toggle_exclusive}},[e("div",{staticClass:"scale-box",staticStyle:{width:"200px"}},[e("h2",[t._v(" 预览缩放 "),e("mark",[t._v(t._s(t.scale)+"%")])]),e("v-slider",{staticStyle:{width:"100px"},attrs:{"thumb-label":!0,min:"30",max:"100"},model:{value:t.scale,callback:function(a){t.scale=a},expression:"scale"}})],1),e("div",{staticClass:"device-change-box"},[e("v-btn-toggle",{model:{value:t.toggle_exclusive,callback:function(a){t.toggle_exclusive=a},expression:"toggle_exclusive"}},[e("v-btn",[t._v("电脑端 ")]),e("v-btn",[t._v("平板端")]),e("v-btn",[t._v("手机端")])],1)],1),e("div",{ref:"campaignStyle",attrs:{id:"campaignStyle"}},[t._v(" "+t._s(JSON.stringify(t.currentData.data))+" ")]),e("section",{class:{"campaign-layout-1":!0,"campaign-modal":!0,light:t.currentData.data.layout.isLight,dark:!t.currentData.data.layout.isLight},style:{transform:"scale("+t.scale/100+")"},attrs:{id:"campaign-layout-1"}},[e("div",{staticClass:"right-box"},[e("p",{staticClass:"campaign-layout-1-sign",attrs:{id:"sign-9613130"},domProps:{innerHTML:t._s(t.currentData.data.layout.sign.text)}}),e("div",{staticClass:"buttons-area"},t._l(t.currentData.data.layout.buttons,(function(a,n){return e("button",{key:n,staticClass:"campaign-button",attrs:{"data-link":"https://m.me/tl.kingdomsalvation?a=b&ref=1",id:"button-"+n,"data-is-privacy":"true"}},[a.icon.length>0?e("img",{attrs:{src:a.icon}}):t._e(),t._v(" "+t._s(a.text)+" ")])})),0)]),e("button",{attrs:{id:"campaign-layout-1-close-btn"}})])])},G=[],Z=(e("99af"),e("b64b"),e("07ac"),e("d3b7"),function(){return new Promise((function(t){U()?$.get("http://localhost:8907/data").then((function(a){t(a)})):$.ajax({type:"POST",url:ajaxurl,data:{action:"Modules_campaign_generator_Ajax",function:"ajax_get_data"},dataType:"json",cache:!1}).then((function(a){t(a)}))}))}),Y=function(t){return new Promise((function(a){U()?a():$.ajax({type:"POST",url:ajaxurl,data:{action:"Modules_campaign_generator_Ajax",function:"ajax_save_data",reData:{paras:t}},dataType:"json",cache:!1}).then((function(){return a()}))}))},U=function(){return!!~window.location.href.indexOf("localhost:80")},W=function(t){var a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(a,(function(t,a,e,n){return a+a+e+e+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?"".concat(parseInt(e[1],16),",").concat(parseInt(e[2],16),",").concat(parseInt(e[3],16)):""},X="",tt=document.createElement("style");tt.id="componentsStyleInject",document.querySelector("head").append(tt);var at={computed:Object(n["a"])({},Object(r["c"])(["currentData"])),name:"preview",data:function(){return{toggle_exclusive:0,scale:100}},mounted:function(){var t=this;document.querySelector("#campaignStyleInject")||setInterval((function(){t.$refs&&X!==t.$refs.campaignStyle.innerHTML&&(X=t.$refs.campaignStyle.innerHTML,t.update_style())}),300)},methods:{update_style:function(){var t=this,a="";a+=this.generator_responsive_style("sign-9613130",this.currentData.data.layout.sign.responses),Object.values(this.currentData.data.layout.buttons).map((function(e,n){a+=t.generator_responsive_style("button-".concat(n),e.responses),a+=t.generator_style("button-".concat(n),{backgroundColor:e.backgroundColor,color:e.color,hover:{backgroundColor:e.backgroundColorHover,boxShadow:"0 5px 10px rgba(".concat(W(e.backgroundColor),",.2)")}})}));var e={};Object.keys(this.currentData.data.layout.backgrounds).map((function(a){return e[a]={backgroundImage:'url("'.concat(t.currentData.data.layout.backgrounds[a],'")')}})),a+=this.generator_responsive_style("campaign-layout-1",e),a+=this.currentData.data.customStyle,tt.innerHTML=a},format_style_obj:function(t){var a=$("<div />").css(t);return a.attr("style")},generator_responsive_style:function(t,a){var e=this,n="";return Object.keys(a).map((function(o){switch(o){case"mobile":n+=".mobile-campaign-wrap #".concat(t,"{").concat(e.format_style_obj(a[o]),"}");break;case"tablet":n+=".tablet-campaign-wrap #".concat(t,"{").concat(e.format_style_obj(a[o]),"}");break;case"pc":n+="#".concat(t,"{").concat(e.format_style_obj(a[o]),"}");break}})),n},generator_style:function(t,a){var e="";return e="#".concat(t,"{").concat(this.format_style_obj(a),"}"),a["hover"]&&(e+="#".concat(t,":hover{").concat(this.format_style_obj(a["hover"]),"}")),a["active"]&&(e+="#".concat(t,":active{").concat(this.format_style_obj(a["active"]),"}")),e}}},et=at,nt=(e("3f57"),e("a609")),ot=Object(h["a"])(et,E,G,!1,null,null,null),it=ot.exports;g()(ot,{VBtn:y["a"],VBtnToggle:nt["a"],VSlider:N["a"]});var ct=null,rt={name:"App",computed:Object(n["a"])({},Object(r["c"])(["data","currentId","currentData"])),components:{layout1:Q,preview:it},data:function(){return this.codemirrorOptions={mode:"text"},{isHide:!1,privacyData:{title:"聊天前请阅读并同意我们的隐私权政策.",describe:"你已阅读并同意我们的**隐私权政策**吗?",link:"https://tr.kingdomsalvation.org/privacy-policy.html",cancel:"取消",agree:"确定"},isShowAlert:!1,alertType:"success",alertText:"",saving:!1}},created:function(){this.select_change(0)},mounted:function(){this.currentData.data.privacyData&&this.currentData.data.privacyData.title&&(this.privacyData=this.currentData.data.privacyData)},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["updateCurrentId"])),{},{open_video:function(){window.open("https://youtu.be/zLysdYqpZ4o")},set_select_title:function(t){return"".concat(t.name)},set_select_value:function(t){return t.id},select_change:function(t){this.updateCurrentId(t)},open_doc:function(){window.open("https://docs.google.com/document/d/1H3j5VcIwKesqOO9hnBQ_MO2KrAq_03qh9fwQoGP-t6g/edit#")},open_docs:function(){window.open("https://docs.google.com/document/d/1H3j5VcIwKesqOO9hnBQ_MO2KrAq_03qh9fwQoGP-t6g/edit#heading=h.f2wa5n7iluvi")},add_new_campaign:function(){var t=this;$.get("https://centereu.kingdomsalvation.org//cdn/v3/vendor/campaign/campaign-panel/layouts/layout1_default.json?v=".concat(Date.now())).then((function(a){var e=Object.assign({},a[0]);e.name="新增弹窗",e.id=Math.ceil(1e8*Math.random()),t.data.push(e),t.updateCurrentId(e.id),t.show_alert("success","成功添加新的弹框配置, 请注意查看")}))},add_copy_campaign:function(){var t=JSON.parse(JSON.stringify(this.currentData));t.id=Math.ceil(1e8*Math.random()),t.name="".concat(t.name," - copy"),this.data.push(t),this.updateCurrentId(t.id),this.show_alert("success","复制新的弹框配置成功, 请注意查看")},save_data:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){if(this.saving)return;this.saving=!0}var n=JSON.stringify(this.data),o=JSON.parse(n);o.map((function(t){t.data.conditionForReshow.data=Math.max(3,t.data.conditionForReshow.data),1===t.data.condition.type&&(t.data.condition.data=Math.max(30,t.data.condition.data)),t.data.privacyData=a.privacyData})),Y(encodeURIComponent(JSON.stringify(o))).then((function(){e||(a.saving=!1,a.show_alert("success","数据保存成功!"))}))},show_alert:function(t,a){var e=this;window.clearTimeout(ct),this.isShowAlert=!0,this.alertType=t,this.alertText=a,ct=setTimeout((function(){e.isShowAlert=!1}),3e3)},remove_campaign:function(){var t=this;if(1!==this.data.length)if(0!==this.currentData.id){if(confirm("确定删除吗?")){var a=this.data.find((function(a){return a.id===t.currentData.id}));this.data.splice(this.data.indexOf(a)),this.show_alert("success","刪除成功"),this.updateCurrentId(this.data[0].id),this.save_data(null,!0)}}else this.show_alert("error","无法删除, 全站弹框配置!");else this.show_alert("error","无法删除, 必须存在一个弹框配置!")}})},st=rt,lt=(e("5c0b"),e("0798")),ut=e("7496"),dt=e("a523"),vt=e("f6c4"),pt=e("490a"),bt=e("b974"),ft=Object(h["a"])(st,i,c,!1,null,null,null),mt=ft.exports;g()(ft,{VAlert:lt["a"],VApp:ut["a"],VBtn:y["a"],VCol:w["a"],VContainer:dt["a"],VIcon:S["a"],VMain:vt["a"],VProgressCircular:pt["a"],VRadio:B["a"],VRadioGroup:F["a"],VRow:H["a"],VSelect:bt["a"],VSubheader:M["a"],VSwitch:P["a"],VTextField:A["a"],VTooltip:J["a"]}),o["a"].use(r["a"]);var ht=new r["a"].Store({state:{data:{},currentData:{},currentId:0},mutations:{updateData:function(t,a){t.data=a},updateCurrentData:function(t,a){t.data=a},updateCurrentId:function(t,a){t.currentId=a,t.data.map((function(e){e.id===a&&(t.currentData=e)}))}},actions:{},modules:{}}),_t=e("f309");o["a"].use(_t["a"]);var gt=new _t["a"]({}),yt=e("bbb9");e("a7be"),e("d2e8"),e("7b00"),e("b2b9"),e("d5e0");o["a"].config.productionTip=!1,o["a"].prototype.layouts=[{type:1,img:"https://api.monosnap.com/file/download?id=z3OaPpZlG7zeOjtZeCOjYERr0l2hWz"}],o["a"].filter("keep_pure_number",(function(t){return t.replace(/[^0-9\.]/gi,"")})),o["a"].filter("replace_point_to_text",(function(t){return{pc:"电脑端",tablet:"平板端",mobile:"手机端"}[t]})),o["a"].use(yt["a"],{options:{theme:"material",tabSize:2,lineNumbers:!0,line:!0,mode:"text/css"}}),Z().then((function(t){new o["a"]({store:ht,vuetify:gt,render:function(t){return t(mt)},computed:Object(n["a"])({},Object(r["c"])(["data"])),created:function(){this.delete_useless_style(),this.updateData(t)},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["updateData"])),{},{delete_useless_style:function(){var t=["forms.min.css","nav-menus.min.css"];$("link").map((function(a,e){t.map((function(t){~e.href.indexOf(t)&&$(e).remove()}))}))}})}).$mount("#app")}))},"5c0b":function(t,a,e){"use strict";var n=e("9c0c"),o=e.n(n);o.a},"5fca":function(t,a,e){"use strict";var n=e("d6fe"),o=e.n(n);o.a},"9c0c":function(t,a,e){},b430:function(t,a,e){},d6fe:function(t,a,e){}});
//# sourceMappingURL=app.js.map