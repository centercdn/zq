!function(t){var n={};function e(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(a,i,function(n){return t[n]}.bind(null,i));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=2)}([function(t,n,e){"use strict";var a,i=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),r=[];function c(t){for(var n=-1,e=0;e<r.length;e++)if(r[e].identifier===t){n=e;break}return n}function s(t,n){for(var e={},a=[],i=0;i<t.length;i++){var o=t[i],s=n.base?o[0]+n.base:o[0],p=e[s]||0,l="".concat(s," ").concat(p);e[s]=p+1;var d=c(l),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(r[d].references++,r[d].updater(u)):r.push({identifier:l,updater:g(u,n),references:1}),a.push(l)}return a}function p(t){var n=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var i=e.nc;i&&(a.nonce=i)}if(Object.keys(a).forEach((function(t){n.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(n);else{var r=o(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}return n}var l,d=(l=[],function(t,n){return l[t]=n,l.filter(Boolean).join("\n")});function u(t,n,e,a){var i=e?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=d(n,i);else{var o=document.createTextNode(i),r=t.childNodes;r[n]&&t.removeChild(r[n]),r.length?t.insertBefore(o,r[n]):t.appendChild(o)}}function h(t,n,e){var a=e.css,i=e.media,o=e.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var f=null,m=0;function g(t,n){var e,a,i;if(n.singleton){var o=m++;e=f||(f=p(n)),a=u.bind(null,e,o,!1),i=u.bind(null,e,o,!0)}else e=p(n),a=h.bind(null,e,n),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return a(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;a(t=n)}else i()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=i());var e=s(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<e.length;a++){var i=c(e[a]);r[i].references--}for(var o=s(t,n),p=0;p<e.length;p++){var l=c(e[p]);0===r[l].references&&(r[l].updater(),r.splice(l,1))}e=o}}}},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",a=t[3];if(!a)return e;if(n&&"function"==typeof btoa){var i=(r=a,c=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(s," */")),o=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[e].concat(o).concat([i]).join("\n")}var r,c,s;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,a){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(a)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);a&&i[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),n.push(s))}},n}},function(t,n,e){t.exports=e(7)},function(t,n,e){var a=e(0),i=e(4);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};a(i,o);t.exports=i.locals||{}},function(t,n,e){(n=e(1)(!1)).push([t.i,".campaign-modal-overlay{position:fixed;top:-25%;left:0;bottom:0;right:0;height:125%;background:rgba(0,0,0,0.8);will-change:opacity;display:none;opacity:0;z-index:999998}.campaign-modal{position:fixed;opacity:0;display:none;z-index:999999;background-size:cover;background-repeat:no-repeat;background-position:center}.campaign-privacy-modal{opacity:0;display:none;position:fixed;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,0.8);z-index:9999991}.campaign-privacy-modal .privacy-dialog{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);box-shadow:0 24px 38px 3px rgba(0,0,0,0.14),0 9px 46px 8px rgba(0,0,0,0.12),0 11px 15px -7px rgba(0,0,0,0.2);max-width:340px;width:calc(100vw - 32px);overflow:hidden;border-radius:8px;background:#fff;padding:24px}.campaign-privacy-modal .privacy-dialog h5{font-size:18px;font-weight:500;margin-top:8px;margin-bottom:16px}.campaign-privacy-modal .privacy-dialog .describe{font-size:0.875rem}.campaign-privacy-modal .privacy-dialog .describe a:hover{text-decoration:underline}.campaign-privacy-modal .privacy-dialog .action-btn{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center;justify-content:center;margin-top:24px}.campaign-privacy-modal .privacy-dialog .action-btn button,.campaign-privacy-modal .privacy-dialog .action-btn a{display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center;justify-content:center;background-color:#f4f6fb;border:1px solid rgba(0,0,0,0.1);height:42px;border-radius:42px;max-width:134px;min-width:120px;text-decoration:none}.campaign-privacy-modal .privacy-dialog .action-btn button.cancel:hover,.campaign-privacy-modal .privacy-dialog .action-btn a.cancel:hover{color:#2483f2}.campaign-privacy-modal .privacy-dialog .action-btn button.agree,.campaign-privacy-modal .privacy-dialog .action-btn a.agree{background-color:#2483f2;color:#fff;margin-left:24px}\n",""]),t.exports=n},function(t,n,e){var a=e(0),i=e(6);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};a(i,o);t.exports=i.locals||{}},function(t,n,e){(n=e(1)(!1)).push([t.i,'.campaign-layout-1{position:fixed;width:954px;height:558px;left:20px;top:20px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}.campaign-layout-1 .right-box{width:50%;position:relative;right:0;top:0;padding:40px;padding-left:20px}.campaign-layout-1 .right-box>p{text-align:center}.campaign-layout-1 .buttons-area{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;margin-top:40px}.campaign-layout-1 .buttons-area a{display:flex;align-items:center;justify-content:center;padding:0px 16px;min-width:320px;text-align:center;transition:all 0.35s ease;border-radius:46px;min-height:46px;margin-bottom:24px}@media (min-width: 1200px){.campaign-layout-1 .buttons-area a{padding:8px 16px;min-height:unset}}.campaign-layout-1 .buttons-area a:last-of-type{margin-bottom:0}@media (max-width: 400px){.campaign-layout-1 .buttons-area a{min-width:100%}}.campaign-layout-1 .buttons-area a img{width:30px;height:30px;display:inline-block;margin-right:16px}.campaign-layout-1.dark #campaign-layout-1-close-btn::before,.campaign-layout-1.dark #campaign-layout-1-close-btn::after{background:#fff}html[dir="rtl"] .campaign-layout-1{direction:ltr}html[dir="rtl"] .campaign-layout-1 .right-box{direction:rtl}html[dir="rtl"] .campaign-layout-1 .buttons-area a img{margin-right:unset;margin-left:16px}html[dir="rtl"] .campaign-privacy-modal .privacy-dialog .action-btn button.agree,html[dir="rtl"] .campaign-privacy-modal .privacy-dialog .action-btn a.agree{margin-right:24px;margin-left:0}#campaign-layout-1-close-btn{position:absolute;right:0;top:0;width:44px;height:44px}#campaign-layout-1-close-btn::before,#campaign-layout-1-close-btn::after{height:2px;content:"";position:absolute;width:54%;top:24px;left:9px;margin-top:-1px;background:#000}#campaign-layout-1-close-btn::before{transform:rotate(45deg)}#campaign-layout-1-close-btn::after{transform:rotate(-45deg)}@media (max-width: 1199.98px){.campaign-layout-1{width:calc(100vw - 10vw);max-width:956px}.campaign-layout-1 .right-box{padding:24px;padding-top:40px}.campaign-layout-1 .buttons-area{margin-top:24px}.campaign-layout-1 .buttons-area button{min-width:unset;width:100%;max-width:320px;margin-bottom:16px;min-height:44px}.campaign-layout-1 .buttons-area button img{width:30px;height:30px}}.tablet-campaign-wrap .campaign-layout-1{width:calc(100vw - 10vw);max-width:956px}.tablet-campaign-wrap .campaign-layout-1 .right-box{padding:24px;padding-top:40px}.tablet-campaign-wrap .campaign-layout-1 .buttons-area{margin-top:24px}.tablet-campaign-wrap .campaign-layout-1 .buttons-area button{min-width:unset;width:100%;max-width:320px;margin-bottom:16px;min-height:44px}.tablet-campaign-wrap .campaign-layout-1 .buttons-area button img{width:30px;height:30px}@media (min-width: 992px) and (max-width: 1199.98px){.campaign-layout-1{width:calc(100vw - 20vw)}}@media (max-width: 767.98px){.campaign-layout-1{width:calc(100vw - 10vw);max-width:956px;height:auto;background-position:top left !important}.campaign-layout-1 .right-box{width:100%;padding-top:0}#campaign-layout-1-close-btn{right:-15px;top:-18px;width:28px;height:28px;background:rgba(0,0,0,0.8);padding:0;border-radius:50%}#campaign-layout-1-close-btn::after,#campaign-layout-1-close-btn::before{background:#fff !important;top:15px;left:7px}}.mobile-campaign-wrap .campaign-layout-1{width:calc(100vw - 10vw);max-width:956px;height:auto;background-position:top left !important}.mobile-campaign-wrap .campaign-layout-1 .right-box{width:100%;padding-top:0}.mobile-campaign-wrap #campaign-layout-1-close-btn{right:-15px;top:-18px;width:28px;height:28px;background:rgba(0,0,0,0.8);padding:0;border-radius:50%}.mobile-campaign-wrap #campaign-layout-1-close-btn::after,.mobile-campaign-wrap #campaign-layout-1-close-btn::before{background:#fff !important;top:15px;left:7px}@media (min-width: 576px) and (max-width: 767px){.campaign-modal-overlay,.campaign-modal{display:none !important}}@media (max-width: 340px){.campaign-layout-1 .campaign-layout-1-sign,.campaign-modal .campaign-layout-1-sign{font-size:14px !important;margin-top:-2px;display:block;display:-webkit-box;max-height:148.8px;font-size:14px;line-height:1.3;-webkit-line-clamp:8;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.right-box{padding-bottom:16px !important}.buttons-area{margin-top:12px !important}.buttons-area button{font-size:12px !important}.buttons-area button:nth-of-type(3),.buttons-area button:nth-of-type(4),.buttons-area button:nth-of-type(5){display:none !important}}@media (max-width: 301px){#campaign-layout-1-close-btn{right:-9px;top:12px}}\n',""]),t.exports=n},function(t,n,e){"use strict";e.r(n);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var a=function(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function i(t,n){function e(){this.constructor=t}a(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var o=function(){return 5===window.location.protocol.length},r=function(){return o()?(l("检测为开发环境, 使用json-server数据"),"http://localhost:8189/data"):!!window.location.pathname.match(/^\/(ru|it|fr|es|de)\//)?"/"+window.location.pathname.match(/^\/(ru|it|fr|es|de)\//)[1]+"/wp-admin/admin-ajax.php":"/wp-admin/admin-ajax.php"},c=function(t,n){if("localStorage"in window)try{window.localStorage.setItem(t,n)}catch(t){console.log(t)}},s=function(t){if("localStorage"in window)try{return window.localStorage.getItem(t)}catch(t){console.log(t)}},p=function(){return Math.ceil((new Date).getTime()/1e3)},l=function(t){console.log("campaign: "+t)},d=function(){return Math.ceil(1e7*Math.random())},u=function(){var t=new URLSearchParams(window.location.search),n="";return n+=t.has("gclid")&&"YT"!=t.get("utm_source")?"gclid_":"",n+=t.has("fbclid")?"fbclid_":"",n+="fb_ad_gf"==t.get("utm_source")?"FbAd_":"",n+=t.has("num")?t.get("num")+"_":"",n+=t.has("source")?t.get("source")+"_":t.has("utm_source")?t.get("utm_source")+"_":"",n+="email"==t.get("utm_medium")?"Email_":""},h=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,n,e,a){return n+n+e+e+a+a}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16):""},f=$("<div/>"),m=function(){function t(){this.prefix="campaign"}return t.prototype.generator_style=function(t,n){var e="";return e="#"+t+"{"+this.format_style_obj(n)+"}",n.hover&&(e+="#"+t+":hover{"+this.format_style_obj(n.hover)+"}"),n.active&&(e+="#"+t+":active{"+this.format_style_obj(n.active)+"}"),e},t.prototype.generator_responsive_style=function(t,n){var e=this,a="";return Object.keys(n).map((function(i){switch(i){case"mobile":a+="@media(max-width:767px){#"+t+"{"+e.format_style_obj(n[i])+"}}";break;case"tablet":a+="@media(max-width:1199px){#"+t+"{"+e.format_style_obj(n[i])+"}}";break;case"pc":a+="#"+t+"{"+e.format_style_obj(n[i])+"}"}})),a},t.prototype.format_style_obj=function(t){return $("<div />").css(t).attr("style")},t.prototype.on=function(t,n){f.on(t,n)},t.prototype.one=function(t,n){f.one(t,n)},t.prototype.off=function(t){f.off(t)},t.prototype.emit=function(t,n){void 0===n&&(n=[]),f.trigger(t,n)},t}(),g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.condition_check=function(){return void 0!==window.$},n.prototype.set_timeout_for_show=function(t){return new Promise((function(n,e){"NaN"===t.toString()&&e("condition.data 参数错误, data:"+t),setTimeout((function(){return n()}),1e3*t)}))},n.prototype.set_scroller_watcher_for_show=function(t){var n=this;return new Promise((function(e,a){("NaN"===t.toString()||t>100||t<1)&&a("condition.data 参数错误, data:"+t);var i="scroll."+n.prefix,o=document.body.scrollHeight;$(window).on(i,(function(){var n=$(window).scrollTop(),a=$(window).height();Math.trunc((n+a)/o*100)>t&&($(window).off(i),e())})).trigger(i)}))},n.prototype.user_ready_to_leave=function(){var t="user-leave",n=null;return new Promise((function(e){$(document).on("mouseleave."+t,(function(a){a.clientY>20||(n=setTimeout((function(){$(document).off("mouseleave."+t).off("mouseenter."+t),e()}),300))})).on("mouseenter."+t,(function(){return clearInterval(n)}))}))},n.prototype.show_condition_check=function(t){var n=this;return new Promise((function(e,a){var i=Object.keys(t);~i.indexOf("type")&&~i.indexOf("data")?1===t.type?n.set_timeout_for_show(parseInt(t.data)).then((function(){return e()}),(function(t){return a(t)})):2===t.type?n.set_scroller_watcher_for_show(t.data).then((function(){return e()}),(function(t){return a(t)})):a("错误的显示条件类型 type: "+t.type):a("how condition错误, "+JSON.stringify(t))}))},n.prototype.reshow_condition_check=function(t){var n=s(this.prefix);if(null===n||0===n.length)return this.set_first_time_show_up_storage(),!0;n=JSON.parse(n);var e=Object.keys(n);return~e.indexOf("currentCount")&&~e.indexOf("lastTimestamp")?!(parseInt(n.currentCount)>=t.count)||(o()?(l("开发环境, 跳过reshow判断, 当前count为:"+n.currentCount),!0):p()-parseInt(n.lastTimestamp)>3600*t.data?o()?(l("开发环境, 跳过reshow判断, 当前时间戳差值为:"+(p()-parseInt(n.lastTimestamp))),!0):(0===parseInt(n.lastTimestamp)||this.set_first_time_show_up_storage(),!0):!!o()&&(l("开发环境, 跳过reshow判断, 当前时间戳差值为:"+(p()-parseInt(n.lastTimestamp))),!0)):(this.set_first_time_show_up_storage(),!0)},n.prototype.set_first_time_show_up_storage=function(){c(this.prefix,JSON.stringify({currentCount:0,lastTimestamp:0}))},n}(m),y="beforeShow",b="afterShow",w="beforeHide",v="afterHide",x=function(t){function n(n){var e=t.call(this)||this;return e.$eventEl=$("<div />"),e.isShown=!1,e.$el=$(n),e.$el.addClass("campaign-modal"),e.event_handle(),e}return i(n,t),n.prototype.show=function(){var t=this;this.hide_existing_modal(),this.show_overlay(),this.show_modal(),$(".campaign-modal-overlay").on("click",(function(){return t.hide()}))},n.prototype.hide=function(){var t=this;this.$eventEl.trigger(w),this.$el.animate({opacity:0},450,(function(){t.$el.css({display:"none"}),t.$eventEl.trigger(v),$(".campaign-modal-overlay,.campaign-privacy-modal,.campaign-modal").remove()})),$(".campaign-modal-overlay").animate({opacity:0},450,(function(){$(".campaign-modal-overlay").remove()})),this.isShown=!1,$(document.body).css({overflow:""})},n.prototype.event_handle=function(){var t=this;$(window).on("resize.campaign-modal",(function(){t.calc_modal_position()})),$(window).on("resize",(function(){t.isShown&&(window.innerWidth>=575&&window.innerWidth<768?$(document.body).css({overflow:""}):$(document.body).css({overflow:"hidden"}))}))},n.prototype.show_modal=function(){var t=this;this.calc_modal_position(),this.$eventEl.trigger(y),this.$el.animate({opacity:1},600,(function(){return t.$eventEl.trigger(b)})),this.isShown=!0,$(document.body).css({overflow:"hidden"}),$(window).trigger("campaign-modal-show")},n.prototype.calc_modal_position=function(){this.$el.css({display:"flex"}).offset();var t=this.$el.outerHeight(),n=this.$el.outerWidth();this.$el.css({top:($(window).height()-t)/2,left:($(window).width()-n)/2})},n.prototype.show_overlay=function(){var t=$("<div/>");$(document.body).append(t),t.addClass("campaign-modal-overlay").css({display:"block"}).animate({opacity:1},600)},n.prototype.hide_existing_modal=function(){$(".campaign-modal").css({display:"none",opacity:0}),$(".campaign-modal-overlay").remove()},n.prototype.on=function(t,n){return this.$eventEl.on(t,n),this},n.prototype.one=function(t,n){return this.$eventEl.one(t,n),this},n.prototype.off=function(t){return this.$eventEl.off(t),this},n}(m),_=function(t){function n(n){var e=t.call(this)||this;return e.data={},e.style="",e.layoutPrefix=e.prefix+"-layout-1",e.M=null,e.data=n,e.init(),e}return i(n,t),n.prototype.init=function(){this.render_html(),this.M=new x($("."+this.layoutPrefix)),$(document.body).append("<style>"+this.style+"</style>"),this.background_image_handle(),this.event_handle()},n.prototype.event_handle=function(){var t=this;$("#campaign-layout-1-close-btn").on("click",(function(){return t.M.hide()})),$(window).on("resize",(function(){t.set_mobile_right_box_top(),t.set_tablet_height()})).trigger("resize"),this.M.on("beforeHide",(function(){var n=s(t.prefix);n=JSON.parse(n),c(t.prefix,JSON.stringify({currentCount:parseInt(n.currentCount)+1,lastTimestamp:p()}))}))},n.prototype.set_tablet_height=function(){var t=.5849*$("."+this.layoutPrefix).outerWidth();768<=window.innerWidth&&window.innerWidth<1200?$("."+this.layoutPrefix+" ").css("height",t):$("."+this.layoutPrefix+" ").css("height","")},n.prototype.set_mobile_right_box_top=function(){var t=300*$("."+this.layoutPrefix).outerWidth()/593+32;window.innerWidth<768?$("."+this.layoutPrefix+" .right-box").css("margin-top",t):$("."+this.layoutPrefix+" .right-box").css("margin-top","")},n.prototype.background_image_handle=function(){var t,n=this,e=$(window).width(),a=this.data.backgrounds.pc;e<1200&&this.data.backgrounds.tablet&&(a=this.data.backgrounds.tablet),e<768&&(a=this.data.backgrounds.mobile),(t=a,new Promise((function(n,e){var a=new Image;a.onload=function(){n({width:a.width,height:a.height})},a.onerror=function(t){return e(t)},a.src=t}))).then((function(){return n.M.show()}))},n.prototype.render_html=function(){var t=this,n="sign-"+d(),e='<section class="'+this.layoutPrefix+" "+(this.data.isLight?"light":"dark")+'" id="'+this.layoutPrefix+'"><div class="right-box"><p class="'+this.layoutPrefix+'-sign" id="'+n+'">'+this.data.sign.text+'</p><div class="buttons-area">'+this.render_buttons_html()+'</div></div><button id="'+this.layoutPrefix+'-close-btn"></button></section>';this.style+=this.generator_responsive_style(n,this.data.sign.responses);var a={};Object.keys(this.data.backgrounds).map((function(n){return a[n]={backgroundImage:'url("'+t.data.backgrounds[n]+'")'}})),this.style+=this.generator_responsive_style(this.layoutPrefix,a),$(document.body).append(e)},n.prototype.render_buttons_html=function(){var t=this,n="";return Object.values(this.data.buttons).map((function(e){var a="button-"+d();t.style+=t.generator_responsive_style(a,e.responses),t.style+=t.generator_style(a,{backgroundColor:e.backgroundColor,color:e.color,hover:{backgroundColor:e.backgroundColorHover,boxShadow:"0 5px 10px rgba("+h(e.backgroundColor)+",0.2)"}});var i=e.icon.length>0?'<img src="'+e.icon+'">':"";n+='<a class="'+t.prefix+'-button" target="_blank" data-title="'+t.get_social_name_from_link(e.link)+'" href="'+e.link+'" id="'+a+'" data-is-privacy="'+!!e.isPrivacy+'">'+i+e.text+"</a>"})),n},n.prototype.get_social_name_from_link=function(t){var n="";return~t.indexOf("m.me")?n="Messenger":~t.indexOf("whatsapp")?n="WhatsApp":~t.indexOf("tawk.to")?n="Tawk":~t.indexOf("line.me")?n="Line":~t.indexOf("kakao")&&(n="Kakao"),""+n},n}(m),k=$("<div/>"),S=function(t){function n(n){var e=t.call(this)||this;return e.data=null,e.$eventEl=$("<div/>"),e.data=n,e.init(),e}return i(n,t),n.prototype.init=function(){this.generator_html(),this.event_handle()},n.prototype.show=function(t,n){return new Promise((function(e,a){k.one("hide",(function(t,n){n?e():a()}));var i=$(".campaign-privacy-modal");i.find(".agree").get(0).dataset.title=t,i.show().animate({opacity:1},300);var o=i.find(".agree");o.attr("href",n),o.get(0).dataset.fullLink=n}))},n.prototype.hide=function(t){void 0===t&&(t=!1);var n=$(".campaign-privacy-modal");$(".campaign-privacy-modal").animate({opacity:0},250,(function(){n.hide(),k.trigger("hide",[t])}))},n.prototype.event_handle=function(){var t=this,n=$(".campaign-privacy-modal");n.on("click",(function(n){0!==$(n.target).parents(".privacy-dialog").length||n.target.classList.contains("privacy-dialog")||t.hide(!1)})),n.find(".cancel").on("click",(function(){return t.hide(!1)})),n.find(".agree").on("click",(function(){return t.hide(!0)}))},n.prototype.generator_html=function(){var t='<section class="'+this.prefix+'-privacy-modal"><div class="privacy-dialog">\n                    <h5>'+this.data.title+'</h5>\n                    <p class="describe">'+this.format_describe(this.data.describe,this.data.link)+'</p>\n                    <div class="action-btn">\n                      <button class="cancel">'+this.data.cancel+'</button>\n                      <a target="_blank" href="javascript:;" class="agree">'+this.data.agree+"</a>\n                    </div>\n                </div></section>";$(document.body).append(t)},n.prototype.format_describe=function(t,n){return t.replace(/\*\*(.*?)\*\*/gi,'<a href="'+n+'" target="_blank">$1</a>')},n}(m),O=function(t){function n(){var n=t.call(this)||this;return n.data=null,n.Condition=new g,n.isShowed=!1,n.startTime=p(),n.P=null,n.init(),n}return i(n,t),n.prototype.init=function(){var t=this;this.Condition.condition_check()?new Promise((function(t){o()?$.get(r()).then((function(n){return t(n.data)})):$.post(r(),{action:"gp_home_ajax",page_name:"page-whole",page_method:"get_campaign_data",page_link:window.location.origin+window.location.pathname}).then((function(n){n&&n.length>0?(n=JSON.parse(n)).isOpen?t(n.data):l("后台未启用该弹框"):l("后台未返回数据")}))})).then((function(n){t.data=n,t.Condition.reshow_condition_check(n.conditionForReshow)?t.Condition.show_condition_check(n.condition).then((function(){return t.show()}),(function(t){return l(t)})):l("不符合再次显示条件")})):l("不符合运行条件")},n.prototype.show=function(){this.isShowed||(this.myMMFontHandler(),this.isShowed=!0,this.render_layout(this.data.layout),this.P=new S(this.data.privacyData),this.event_handle(),$(document.body).append("<style>"+this.data.customStyle+"</style>"))},n.prototype.myMMFontHandler=function(){"my-MM"===document.documentElement.lang&&document.body.classList.contains("zawgyi")&&window.uni2zg&&(this.data=JSON.parse(window.uni2zg(JSON.stringify(this.data))))},n.prototype.event_handle=function(){var t=this;$(window).on("campaign-modal-show",(function(){$(".campaign-modal .campaign-button").map((function(n,e){var a=t.get_open_link(e.getAttribute("href"));a=decodeURIComponent(a),e.setAttribute("href",a),e.dataset.fullLink=a}))})),$(document).on("click",".campaign-button",(function(n){var e=n.currentTarget.href;"false"!==n.currentTarget.dataset.isPrivacy&&(s("privacyConfirm")||(n.preventDefault(),t.P.show(n.currentTarget.dataset.title,e).then((function(){c("privacyConfirm","1")}),(function(){l("用户取消了隐私权政策显示")}))))}))},n.prototype.open_link=function(t){window.open(t,"_blank")},n.prototype.get_open_link=function(t){return t.match(/\/m\.me\//)&&!~t.indexOf(window.location.host)&&(t=this.format_messenger_link(t)),t},n.prototype.format_messenger_link=function(t){var n=window.location.host+window.location.pathname,e=function(t){var n="";return~t.indexOf("?")&&(n=t.split("?")[1]),n?JSON.parse('{"'+decodeURI(n).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}}(t),a=u()?"_"+u()+"_":"_",i=e.ref?e.ref:"website";return e.ref=i+"--"+this.data.type+a+this.get_loaded_time()+"_"+n,t=t.split("?")[0],t+="?"+$.param(e)},n.prototype.get_loaded_time=function(){return t=p()-this.startTime,(n=new Date(0)).setSeconds(t),n.toISOString().substr(11,8);var t,n},n.prototype.render_layout=function(t){switch(t.type){case 1:new _(t);break;default:l("未知的布局 type:"+t.type)}},n}(m);e(3),e(5);0===$(".campaign-panel-back").length&&new O}]);